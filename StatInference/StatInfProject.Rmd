---
title: "Comparison of the Exponential Distribution with the Central Limit Theorem"
author: "Tell Bennett"
date: "Monday, May 18, 2015"
output: pdf_document
---

Synopsis
--------

2-3 sentences.


Global Options and Loading Packages
-----------------------------------

```{r options, echo = FALSE}
options(dplyr.max_print = 10)
options(dplyr.min_print =  5)
```

```{r loadpackages, echo = TRUE, results="hide", message=FALSE}
library(dplyr)
library(lubridate)
library(ggplot2)
library(stringr)
library(datasets)
library(htmlTable)
```

```{r hist}
hist(runif(1000))

means <- NULL

for (i in 1:1000) {
    means = c(means, mean(runif(40)))
}

hist(means)
```

```{r lln1}
n <- 10000
means <- cumsum(rnorm(n)) / (1 : n)
library(ggplot2)
g <- ggplot(data.frame(x = 1 : n, y = means), aes(x = x, y = y)) 
g <- g + geom_hline(yintercept = 0) + geom_line(size = 2) 
g <- g + labs(x = "Number of obs", y = "Cumulative mean")
g
```



```{r moresim}
nosim <- 10000; 
dat <- data.frame(
    x = c(apply(matrix(rnorm(nosim * 10), nosim), 1, var),
          apply(matrix(rnorm(nosim * 20), nosim), 1, var),
          apply(matrix(rnorm(nosim * 30), nosim), 1, var)),
    n = factor(rep(c("10", "20", "30"), c(nosim, nosim, nosim))) 
    )
ggplot(dat, aes(x = x, fill = n)) + geom_density(size = 2, alpha = .2) + geom_vline(xintercept = 1, size = 2) 
```

```{r moresim2}
dat <- data.frame(
  x = c(apply(matrix(sample(1 : 6, nosim * 10, replace = TRUE), 
                     nosim), 1, var),
        apply(matrix(sample(1 : 6, nosim * 20, replace = TRUE), 
                     nosim), 1, var),
        apply(matrix(sample(1 : 6, nosim * 30, replace = TRUE), 
                     nosim), 1, var)
        ),
  size = factor(rep(c(10, 20, 30), rep(nosim, 3))))
g <- ggplot(dat, aes(x = x, fill = size)) + geom_histogram(alpha = .20, binwidth=.3, colour = "black") 
g <- g + geom_vline(xintercept = 2.92, size = 2)
g + facet_grid(. ~ size)
```

Simulation example - Poisson

Poisson(4) have variance 4; means of random samples of n Poisson(4) have sd 2/n−−√

```{r moresim3}
nosim <- 1000
n <- 10
sd(apply(matrix(rpois(nosim * n, 4), nosim), 1, mean))
## [1] 0.6257625
2 / sqrt(n)
## [1] 0.6324555
```
