---
title: "Comparison of the Exponential Distribution with the Central Limit Theorem"
author: "Tell Bennett"
date: "Monday, May 18, 2015"
output: pdf_document
---

Synopsis
--------

2-3 sentences.


Setting Seed and Loading Packages
---------------------------------

```{r loadpackages, echo = TRUE, results="hide", message=FALSE}
set.seed(1234)
library(ggplot2)
library(dplyr)
```


Simulations
-----------

Here we generate 40 exponentials with $\lambda = 0.2$ __ONCE__ and display the `x` values using a histogram with an overlain density curve.  
```{r exp, echo=FALSE}
x <- (rexp(40, 0.2))
y <- as.data.frame(x)
p <- ggplot(y, aes(x = x)) + theme_bw()
p + geom_histogram(aes(y = ..density..), alpha=0.5) + geom_density(size = 0.5, alpha = 0.2) + geom_vline(xintercept = 5, size = 0.5) 
```

\medskip

The theoretical mean of the distribution should be $1/\lambda = 5$ and the theoretical variance should be $(1/\lambda)^2$ = 25. The observed values are reasonably close to the theoretical values, although 40 is not a particularly large $n$
```{r meanvar}
mean(x)
var(x)
```
\medskip


Here we generate 40 exponentials with $\lambda = 0.2$ __1000 times__ and display the mean of each group of 40 exponentials using a histogram with an overlain density curve.  
```{r moresim3, echo=FALSE}
nosim <- 1000
n <- 40
z <- matrix(rexp(nosim * n, 0.2), nrow = nosim)
zmeans <- apply(z, 1, mean)
zmdf <- as.data.frame(zmeans)
```

\medskip

The theoretical mean of the distribution of 1000 means should be the population mean $1/\lambda = 5$ and the observed mean is quite close to that. 
```{r meanvar2}
mean(zmeans)
```

\medskip

The standard error of the mean should be $\sqrt{((1/\lambda)^2) / n}$ = 0.016
```{r meanvar3}
sd(zmeans)
var(zmeans)
```
The distribution of the 

\medskip

The below figure shows that the distribution of the means of 1000 groups of 40 exponentials is approximately normal, much more so than the mean of a single group of 40 exponentials.
```{r plot2}
p2 <- ggplot(zmdf, aes(x = zmeans)) + theme_bw()
p2 + geom_histogram(aes(y = ..density..), alpha=0.5) + geom_density(size = 0.5, alpha = 0.2) + geom_vline(xintercept = 5, size = 0.5)
```

### need titles for plots, 



ToothGrowth Analysis
--------------------








